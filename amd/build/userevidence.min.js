define("local_taskflow/userevidence",["exports","core/notification","core_form/modalform","core/str"],(function(_exports,_notification,_modalform,_str){function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}
/**
   * JS for handling the upload users modal in a form.
   *
   * @module local_taskflow/userevidence
   * @copyright 2025
   * @license http://www.gnu.org/copyleft/gpl.html GNU GPL v3 or later
   */Object.defineProperty(_exports,"__esModule",{value:!0}),_exports.init=void 0,_notification=_interopRequireDefault(_notification),_modalform=_interopRequireDefault(_modalform);_exports.init=userid=>{initUploadModal(userid),initDeleteButtons(userid)};const initUploadModal=userid=>{const triggers=document.querySelectorAll('[data-action="openuserevidencemodal"]');triggers.length&&triggers.forEach((function(trigger){trigger.addEventListener("click",(async function(e){e.preventDefault();const title=await(0,_str.get_string)("uploadevidence","local_taskflow"),args={};Object.entries(this.dataset).forEach((_ref=>{let[key,value]=_ref;args[key]=value})),args.userid=userid;const modal=new _modalform.default({formClass:"local_taskflow\\form\\userevidence",args:args,modalConfig:{title:title}});modal.addEventListener(modal.events.FORM_SUBMITTED,(()=>{_notification.default.addNotification({message:"Your upload was successful!",type:"success",closeButton:!0}),setTimeout((()=>{window.location.reload()}),2e3)})),modal.show()}))}))},initDeleteButtons=userid=>{const triggers=document.querySelectorAll('[data-action="deleteuserevidence"]');triggers.length&&triggers.forEach((function(trigger){trigger.addEventListener("click",(async function(e){e.preventDefault();const title=await(0,_str.get_string)("uploadevidence","local_taskflow"),args={};Object.entries(this.dataset).forEach((_ref2=>{let[key,value]=_ref2;args[key]=value})),args.userid=userid;const modal=new _modalform.default({formClass:"local_taskflow\\form\\delete_userevidence",args:args,modalConfig:{title:title}});modal.addEventListener(modal.events.FORM_SUBMITTED,(()=>{_notification.default.addNotification({message:"Your upload was successful!",type:"success",closeButton:!0}),setTimeout((()=>{window.location.reload()}),2e3)})),modal.show()}))}))}}));

//# sourceMappingURL=userevidence.min.js.map