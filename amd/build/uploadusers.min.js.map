{"version":3,"file":"uploadusers.min.js","sources":["../src/uploadusers.js"],"sourcesContent":["/**\n * JS for handling the upload users modal in a form.\n *\n * @module local_taskflow/uploadusers\n * @copyright 2025\n * @license http://www.gnu.org/copyleft/gpl.html GNU GPL v3 or later\n */\n\nimport Notification from 'core/notification';\nimport ModalForm from 'core_form/modalform';\n\n/**\n * Initializes the upload users modal trigger.\n *\n * Attaches a click event listener to the element with ID 'openuploadusersmodal',\n * which opens a modal form for uploading users and shows a success notification\n * upon form submission.\n */\nexport const init = () => {\n    const trigger = document.querySelector('#openuploadusersmodal');\n    if (!trigger) {\n        return;\n    }\n    const modal = new ModalForm({\n        formClass: 'local_taskflow\\\\form\\\\uploaduser',\n        modalConfig: {\n            title: 'Upload Users (JSON)',\n        }\n    });\n\n    modal.addEventListener(modal.events.FORM_SUBMITTED, function() {\n        // eslint-disable-next-line no-console\n        console.log('worked');\n        Notification.addNotification({\n            message: 'Your upload was successful!',\n            type: 'success',\n            closeButton: true,\n        });\n\n        setTimeout(() => {\n            window.location.reload();\n        }, 2000);\n    });\n\n    modal.show();\n};\n"],"names":["document","querySelector","modal","ModalForm","formClass","modalConfig","title","addEventListener","events","FORM_SUBMITTED","console","log","addNotification","message","type","closeButton","setTimeout","window","location","reload","show"],"mappings":";;;;;;;kMAkBoB,SACAA,SAASC,cAAc,sCAIjCC,MAAQ,IAAIC,mBAAU,CACxBC,UAAW,mCACXC,YAAa,CACTC,MAAO,yBAIfJ,MAAMK,iBAAiBL,MAAMM,OAAOC,gBAAgB,WAEhDC,QAAQC,IAAI,gCACCC,gBAAgB,CACzBC,QAAS,8BACTC,KAAM,UACNC,aAAa,IAGjBC,YAAW,KACPC,OAAOC,SAASC,WACjB,QAGPjB,MAAMkB"}