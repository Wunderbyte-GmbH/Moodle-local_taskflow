define("local_taskflow/uploadusers",["exports","core/notification","core_form/modalform"],(function(_exports,_notification,_modalform){function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}
/**
   * JS for handling the upload users modal in a form.
   *
   * @module local_taskflow/uploadusers
   * @copyright 2025
   * @license http://www.gnu.org/copyleft/gpl.html GNU GPL v3 or later
   */Object.defineProperty(_exports,"__esModule",{value:!0}),_exports.init=void 0,_notification=_interopRequireDefault(_notification),_modalform=_interopRequireDefault(_modalform);_exports.init=()=>{const trigger=document.querySelector("#openuploadusersmodal");if(!trigger)return;trigger.addEventListener("click",(()=>{const modal=new _modalform.default({formClass:"local_taskflow\\form\\uploaduser",modalConfig:{title:"Upload Users (JSON)"}});modal.addEventListener(modal.events.FORM_SUBMITTED,(function(e){console.log("worked",e.detail),_notification.default.addNotification({message:"Your upload was successful! "+e.detail.time,type:"success",closeButton:!0}),setTimeout((()=>{window.location.href=window.location.origin+window.location.pathname}),1e4)})),modal.show()}));const fetchtrigger=document.querySelector("#triggerdwhimport");fetchtrigger&&fetchtrigger.addEventListener("click",(()=>{const modal=new _modalform.default({formClass:"local_taskflow\\form\\importdwh",modalConfig:{title:"Trigger DWH Import manually"}});modal.addEventListener(modal.events.FORM_SUBMITTED,(function(e){console.log("wordfsfefseked",e),_notification.default.addNotification({message:"Your import was triggered successfully!",type:"success",closeButton:!0}),e.detail&&e.detail.msg&&_notification.default.addNotification({message:e.detail.msg,type:"success",closeButton:!0})})),modal.show()}))}}));

//# sourceMappingURL=uploadusers.min.js.map