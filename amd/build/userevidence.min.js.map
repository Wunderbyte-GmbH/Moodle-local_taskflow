{"version":3,"file":"userevidence.min.js","sources":["../src/userevidence.js"],"sourcesContent":["/**\n * JS for handling the upload users modal in a form.\n *\n * @module local_taskflow/uploadusers\n * @copyright 2025\n * @license http://www.gnu.org/copyleft/gpl.html GNU GPL v3 or later\n */\n\nimport Notification from 'core/notification';\nimport ModalForm from 'core_form/modalform';\nimport {get_string as getString} from 'core/str';\n\nexport const init = (userid) => {\n    const trigger = document.querySelector('[data-action=\"openuserevidencemodal\"]');\n    if (!trigger) {\n        return;\n    }\n\n    trigger.addEventListener('click', async(e) => {\n        e.preventDefault();\n\n        const title = await getString('uploadevidence', 'local_taskflow');\n\n        const modal = new ModalForm({\n            formClass: 'local_taskflow\\\\form\\\\userevidence',\n            args: {userid: userid},\n            modalConfig: {\n                title: title,\n            }\n        });\n\n        modal.addEventListener(modal.events.FORM_SUBMITTED, function() {\n            Notification.addNotification({\n                message: 'Your upload was successful!',\n                type: 'success',\n                closeButton: true,\n            });\n\n            setTimeout(() => {\n                window.location.reload();\n            }, 2000);\n        });\n\n        modal.show();\n    });\n};\n"],"names":["userid","trigger","document","querySelector","addEventListener","async","e","preventDefault","title","modal","ModalForm","formClass","args","modalConfig","events","FORM_SUBMITTED","addNotification","message","type","closeButton","setTimeout","window","location","reload","show"],"mappings":";;;;;;;kMAYqBA,eACXC,QAAUC,SAASC,cAAc,yCAClCF,SAILA,QAAQG,iBAAiB,SAASC,MAAAA,IAC9BC,EAAEC,uBAEIC,YAAc,mBAAU,iBAAkB,kBAE1CC,MAAQ,IAAIC,mBAAU,CACxBC,UAAW,qCACXC,KAAM,CAACZ,OAAQA,QACfa,YAAa,CACTL,MAAOA,SAIfC,MAAML,iBAAiBK,MAAMK,OAAOC,gBAAgB,iCACnCC,gBAAgB,CACzBC,QAAS,8BACTC,KAAM,UACNC,aAAa,IAGjBC,YAAW,KACPC,OAAOC,SAASC,WACjB,QAGPd,MAAMe"}